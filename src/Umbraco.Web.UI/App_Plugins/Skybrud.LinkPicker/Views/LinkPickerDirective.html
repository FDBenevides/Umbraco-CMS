<div class="SkybrudImagePicker">
    <label class="title" ng-if="config.title.show">
        <input type="text" ng-model="value.title" placeholder="{{cfg.title.placeholder || 'Title'}}" class="title" />
    </label>
    <div class="list" ng-show="!config.showTable">
        <ul ui-sortable="sortableOptionsList" ng-model="value.items">
            <li ng-repeat="link in value.items">
                <a href="{{link.url}}" target="_blank">{{link.name || link.url}}</a>
                <a class="edit" href="#" prevent-default="" ng-click="editLink(link, $index)"><i class="icon icon-edit"></i></a>
                <a class="remove" href="#" prevent-default="" ng-click="removeLink($index)"><i class="icon icon-delete"></i></a>
                <i class="icon icon-navigation handle" ng-show="value.items.length > 1"></i>
            </li>
        </ul>
        <div class="actions">
            <a class="link" href="#" prevent-default="" ng-click="addLink()" ng-show="!config.limit || value.items.length < config.limit">
                <localize key="linkpicker_addLink">Add link</localize>
                <i class="icon icon-add"></i>
            </a>
        </div>
    </div>

    <div class="table" ng-show="config.showTable">
        <div class="umb-table">
            <div class="umb-table-head">
                <div class="umb-table-row">
                    <div class="umb-table-cell col-thumbnail" ng-show="config.columns.type" >
                        <localize key="linkpicker_type">Type</localize>
                    </div>
                    <div class="umb-table-cell col-thumbnail">
                        <localize key="linkpicker_id">ID</localize>
                    </div>
                    <div class="umb-table-cell col-name" ng-hide="cfg.items.title.hidden">
                        <localize key="linkpicker_name">Name</localize>
                    </div>
                    <div class="umb-table-cell col-description" ng-hide="cfg.items.description.hidden">
                        <localize key="linkpicker_url">URL</localize>
                    </div>
                    <div class="umb-table-cell col-thumbnail" ng-hide="cfg.items.link.hidden">
                        <localize key="linkpicker_target">Target</localize>
                    </div>
                    <div class="umb-table-cell col-actions">&nbsp;</div>
                </div>
            </div>
            <div class="umb-table-body" ng-show="value.items.length == 0">
                <div class="umb-table-row">
                    <div class="umb-table-cell" style="flex: 1 1 100%">
                        <localize key="linkpicker_labelNoRows">There has not yet been added any links.</localize>
                    </div>
                </div>
            </div>
            <div ng-show="value.items.length > 0">
                <div class="umb-table-body" ui-sortable="sortableOptions" ng-model="value.items">
                    <div class="item" ng-repeat="link in value.items">
                        <div class="umb-table-row">
                            <div class="umb-table-cell col-thumbnail" ng-show="config.columns.type" >
                                <div style="text-transform: capitalize;">
                                    <span ng-show="link.mode">{{link.mode}}</span>
                                </div>
                            </div>
                            <div class="umb-table-cell col-thumbnail" ng-show="config.columns.id">
                                <div>
                                    <span ng-show="link.id">{{link.id}}</span>
                                </div>
                            </div>
                            <div class="umb-table-cell col-name" ng-show="config.columns.name">
                                <div>
                                    <span ng-show="link.name">{{link.name}}</span>
                                </div>
                            </div>
                            <div class="umb-table-cell col-description" ng-show="config.columns.url">
                                <div>
                                    <div ng-show="link.url"><a href="{{link.url}}" target="_blank">{{link.url}}</a></div>
                                </div>
                            </div>
                            <div class="umb-table-cell col-thumbnail" ng-show="config.columns.target">
                                <div>
                                    <div ng-show="link.target">{{link.target}}</div>
                                </div>
                            </div>
                            <div class="umb-table-cell col-actions">
                                <div>
                                    <a href="#" ng-click="editLink(link, $index)" prevent-default="" localize="title" title="@imagepicker_tooltipEditRow"><i class="icon icon-edit"></i></a>
                                    <a href="#" ng-click="removeLink($index);" prevent-default="" localize="title" title="@imagepicker_tooltipRemoveRow"><i class="icon icon-delete red"></i></a>
                                    <span prevent-default="" title="Sort"><i class="icon icon-navigation handle"></i></span>
                                </div>
                            </div>
                        </div>
                        <div class="umb-table-row">
                            <div class="umb-table-cell col-ref">
                                <div>
                                    <label>Ref</label>
                                    <input ng-model="link.ref" />
                                </div>
                            </div>
                            <div class="umb-table-cell col-name">
                                <div>
                                    <label>Price</label>
                                    <input ng-model="link.price" />
                                </div>
                            </div>
                            <div class="umb-table-cell col-name">
                                <div>
                                    <label>Video</label>
                                    <input ng-model="link.video" />
                                </div>
                            </div>
                        </div>
                        <div ng-click="link.$showComments = !link.$showComments" style="padding-left:15px;padding-bottom:15px;">Comments (
                            <span ng-show="!link.$showComments" style="text-decoration:underline" >Show</span>
                            <span style="text-decoration:underline" ng-show="link.$showComments">Hide</span>
                        )
                        </div>
                        <div class="umb-table-row" ng-show="link.$showComments">
                            <div style="width: 100%; padding-left:15px;" >
                                <div >
                                    <!--<div class="subpart">
                                        
                                        <div class="image" ng-if="item.$image">
                                            <img ng-src="{{item.imageUrl}}" alt="" /><br />
                                            <a href="#" class="remove" ng-click="removeImage(item)" prevent-default><i class="icon icon-delete"></i></a>
                                        </div>
                                        <div ng-if="!item.$image" style="border: none">
                                            <a href="#" class="usky-editor-placeholder" ng-click="addImage(item)" prevent-default style="display: block; background: #f8f8f8;" ng-style="{width: config.image.width + 'px', height: config.image.height + 'px'}">
                                                <div style="padding-top: 40px; text-align: center;">
                                                    <i class="icon icon-picture" style="font-size: 22px;"></i><br />
                                                    <localize key="imagepicker_optionAddImage">Add an image</localize>
                                                </div>
                                            </a>
                                        </div>
                                    </div>-->
                                    <div class="subpart">
                                        <div class="subpart">
                                            <div class="title">
                                                <localize key="lw_newComment">New Comment</localize>
                                            </div>
                                            <textarea type="text" ng-model="link.$parent.newComment" style="font-weight: bold;"  />
                                            <div ng-show="link.$parent.newComment">
                                                <a class="empty" href="#" prevent-default ng-click="addComment(link.$parent.newComment, link)">
                                                    <localize key="lw_optionAddComment">Add comment</localize>
                                                </a>
                                            </div>
                                        </div>
                                        <div class="subpart" ng-show="link.comments">
                                            <div ng-repeat="comment in link.comments">
                                                <div class="title" style="background-color:lightgray;">
                                                    {{comment.author}} - {{comment.datetime}} <span ng-show="isDraftComment(link, comment)">(<localize key="lw_notSaved">Not Saved</localize>)</span>
                                                </div>
                                                <div>
                                                    {{comment.text}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="spacer"></div>
                            
                            </div>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div style="margin-top: 5px; font-size: 13px;">
                <a class="link" href="#" prevent-default ng-click="addLink()" ng-show="!config.limit || value.items.length < config.limit">
                    <localize key="linkpicker_addLink">Add link</localize>
                    <i class="icon icon-add"></i>
                </a>
            </div>
        </div>
    
            <!--<table ng-show="value.items.length">
                <thead>
                    <tr>
                        <th ng-show="config.columns.type">
                            <localize key="linkpicker_type">Type</localize>
                        </th>
                        <th ng-show="config.columns.id">
                            <localize key="linkpicker_id">ID</localize>
                        </th>
                        <th ng-show="config.columns.name">
                            <localize key="linkpicker_name">Name</localize>
                        </th>
                        <th ng-show="config.columns.url">
                            <localize key="linkpicker_url">Url</localize>
                        </th>
                        <th ng-show="config.columns.target">
                            <localize key="linkpicker_target">Target</localize>
                        </th>
                        <th>&nbsp;</th>
                    </tr>
                </thead>
                <tbody ui-sortable="sortableOptions" ng-model="value.items">
                    <tr ng-repeat="link in value.items">
                        <td ng-show="config.columns.type" style="text-transform: capitalize;">{{link.mode}}</td>
                        <td ng-show="config.columns.id">{{link.id}}</td>
                        <td ng-show="config.columns.name">{{link.name}}</td>
                        <td ng-show="config.columns.url"><a href="{{link.url}}" target="_blank">{{link.url}}</a></td>
                        <td ng-show="config.columns.target">{{link.target}}</td>
                        <td style="text-align: right;">
                            <a class="edit" href="#" prevent-default="" ng-click="editLink(link, $index)"><i class="icon icon-edit"></i></a>
                            <a class="remove" href="#" prevent-default="" ng-click="removeLink($index)"><i class="icon icon-delete"></i></a>
                            <i class="icon icon-navigation handle" ng-show="value.items.length > 1"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="actions">
                <a class="link" href="#" prevent-default="" ng-click="addLink()" ng-show="!config.limit || value.items.length < config.limit">
                    <localize key="linkpicker_addLink">Add link</localize>
                    <i class="icon icon-add"></i>
                </a>
            </div>-->
    </div>
</div>