@inherits UmbracoViewPage<ContentModels.DocModel>
@using ContentModels = Umbraco.Web.PublishedContentModels;
@using Skybrud.ImagePicker;
@using Skybrud.ImagePicker.Extensions;
@using Skybrud.LinkPicker;
@using Skybrud.LinkPicker.Extensions;
@using ClientDependency.Core.Mvc;
@{
    Layout = "~/Views/_Master.cshtml";

    // Using the built-in extension method
    ImagePickerList imagePickerList = Model.GetImagePickerList("multiImagePicker");
    // Using the built-in extension method
    LinkPickerList linkPickerList = Model.GetLinkPickerList("multiLinkPicker");


}
    
    @Html.GetGridHtml(Model, "grid", "CustomGrid")
    <p>Skybrud Image Picker</p>
    @if (imagePickerList.HasItems)
    {
        foreach (ImagePickerItem item in imagePickerList.Items)
        {
            <img src="@item.Image.GetCropUrl(cropAlias:"square_thumb", useCropDimensions:true )" title="@item.Title" /><span>@item.Link.JObject</span>
        }

        <img src="@Umbraco.TypedMedia(1051).GetCropUrl("square_thumb")" />
    }
    <p>Skybrud Link Picker</p>
    @if (linkPickerList.HasItems)
    {
        foreach (LinkPickerItem item in linkPickerList.Items)
        {
            <p>@item.JObject.ToString()</p>
        }
    }
